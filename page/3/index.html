<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hello,I am louhc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hello,I am louhc">
<meta property="og:url" content="https://louhc.github.io/page/3/index.html">
<meta property="og:site_name" content="Hello,I am louhc">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hello,I am louhc">
  
    <link rel="alternate" href="/atom.xml" title="Hello,I am louhc" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hello,I am louhc</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://louhc.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-「2018-12-02模拟赛」T2-种树-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「2018-12-02模拟赛」T2-种树-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:18:00.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「2018-12-02模拟赛」T2-种树-解题报告/">「2018-12-02模拟赛」T2 种树 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="2-种树-tree-pas-cpp-in-out"><a href="#2-种树-tree-pas-cpp-in-out" class="headerlink" title="2.种树(tree.pas/cpp/in/out)"></a>2.种树(tree.pas/cpp/in/out)</h1><h2 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h2><p>Fanvree 很聪明，解决难题时他总会把问题简单化。<br>例如，他就整天喜欢把图转化为树。但是他不会缩环，那他怎么转化呢？ 这是一个有<br>n 个点 m 条双向边的图，Fanvree 会选定一个节点，然后删掉这个节点和这个点连出去的边，<br>如果变成了一棵树，那么这个节点便是可行的，什么是树呢？树也即无简单环的无向连通图。<br>告诉 Fanvree 可能的节点是什么。</p>
<h2 id="输入："><a href="#输入：" class="headerlink" title="输入："></a>输入：</h2><p>第一行两个正整数 n 和 m，表示有 n 个点 m 条边，保证 n≥2。<br>接下来 m 行，每行两个整数 v,u，表示 v 和 u 之间有一条无向边 1≤v,u≤n，保证没<br>有重边和自环。</p>
<h2 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h2><p>第一行一个正整数 ns，表示这个图中有 ns 个结点可选。<br>接下来一行，共 ns 个整数，每个整数表示一个可选结点的编号。<br>请按编号从小到大的顺序输出。<br>数据保证图中至少存在一个可选的结点。</p>
<h2 id="样例输入："><a href="#样例输入：" class="headerlink" title="样例输入："></a>样例输入：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6 6</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">2 4</span><br><span class="line">2 5</span><br><span class="line">4 6</span><br><span class="line">5 6</span><br></pre></td></tr></table></figure>
<h2 id="样例输出："><a href="#样例输出：" class="headerlink" title="样例输出："></a>样例输出：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4 5 6</span><br></pre></td></tr></table></figure>
<h2 id="数据范围："><a href="#数据范围：" class="headerlink" title="数据范围："></a>数据范围：</h2><p>对于 40%的数据：n，m&lt;=1000；<br>另外存在 10%的数据：m=n-1；<br>另外存在 20%的数据：m=n；<br>对于 100%的数据：n，m&lt;=100000。</p>
<hr>
<h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>只要掌握一个小定理，就显得<del>十分简单</del>（啊呸，叫我这种刚刚普及退役$Tarjan$都不会蒟蒻找割点）</p>
<blockquote>
<p>当且仅当一个有N个节点的连通图有N - 1条边，这是一棵树。</p>
</blockquote>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>输入时，记录每个点相连的边数s。</p>
<p>如果 M - s[P] != N - 2，该图不满足前面提到的定理，删去P不是一棵树。</p>
<p>如果该点为割点，那么删去P将不连通。</p>
<p>所以预处理出割点、每个点相连的边数即可。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> open(s) freopen( s<span class="meta-string">".in"</span>, <span class="meta-string">"r"</span>, stdin ), freopen( s<span class="meta-string">".out"</span>, <span class="meta-string">"w"</span>, stdout );</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 100005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXM 100005</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, ans;</span><br><span class="line"><span class="keyword">int</span> hd[MAXN], nxt[MAXM &lt;&lt; <span class="number">1</span>], to[MAXM &lt;&lt; <span class="number">1</span>], s[MAXN], tot(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">( <span class="keyword">int</span> x, <span class="keyword">int</span> y )</span></span>&#123; nxt[++tot] = hd[x]; to[tot] = y; hd[x] = tot; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dfn[MAXN], low[MAXN], num, root;</span><br><span class="line"><span class="keyword">bool</span> cut[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Tarjan</span><span class="params">( <span class="keyword">int</span> x )</span></span>&#123; <span class="comment">//找割点—— </span></span><br><span class="line">	dfn[x] = low[x] = ++num; <span class="function"><span class="keyword">int</span> <span class="title">cnt</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = hd[x]; i; i = nxt[i] )&#123;</span><br><span class="line">		<span class="keyword">if</span> ( !dfn[to[i]] )&#123;</span><br><span class="line">			Tarjan(to[i]);</span><br><span class="line">			low[x] = min( low[x], low[to[i]] );</span><br><span class="line">			<span class="keyword">if</span> ( dfn[x] &lt;= low[to[i]] ) cnt++;</span><br><span class="line">		&#125; <span class="keyword">else</span> low[x] = min( low[x], dfn[to[i]] );</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> ( cnt &amp;&amp; ( x != root || cnt &gt; <span class="number">1</span> ) ) cut[x] = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	open(<span class="string">"tree"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>( <span class="string">"%d%d"</span>, &amp;n, &amp;m );</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i )&#123;</span><br><span class="line">		<span class="keyword">int</span> x, y; <span class="built_in">scanf</span>( <span class="string">"%d%d"</span>, &amp;x, &amp;y );</span><br><span class="line">		Add( x, y ), Add( y, x ); s[x]++; s[y]++;</span><br><span class="line">	&#125;</span><br><span class="line">	root = <span class="number">1</span>; Tarjan(<span class="number">1</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//别忘了 如果图是由一棵树和一个孤零零的点组成。。。 </span></span><br><span class="line">	<span class="keyword">if</span> ( num == <span class="number">1</span> )&#123; <span class="comment">//不连通的话，如果找到的点只有1个(节点1)，那只有可能节点1是满足要求的点 </span></span><br><span class="line">		root = <span class="number">2</span>; Tarjan( <span class="number">2</span> );</span><br><span class="line">		<span class="keyword">if</span> ( num == n &amp;&amp; m == n - <span class="number">2</span> ) <span class="built_in">printf</span>( <span class="string">"1\n1\n"</span> );</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> ( num == n - <span class="number">1</span> )&#123; <span class="comment">//如果找到的点有n - 1个，那么在非节点1的节点中有一个还满足题要求。。。 </span></span><br><span class="line">		<span class="keyword">if</span> ( m == n - <span class="number">2</span> )&#123;</span><br><span class="line">			<span class="built_in">printf</span>( <span class="string">"1\n"</span> );</span><br><span class="line">			<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i )</span><br><span class="line">				<span class="keyword">if</span> ( !dfn[i] )&#123; <span class="built_in">printf</span>( <span class="string">"%d\n"</span>, i ); <span class="keyword">break</span>; &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> ( num != n )&#123; <span class="built_in">printf</span>( <span class="string">"0\n0\n"</span> ); <span class="keyword">return</span> <span class="number">0</span>; &#125; <span class="comment">//如果有多个点不能到达，咋删都成不了棵树。。。 </span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i ) <span class="keyword">if</span> ( m - s[i] == n - <span class="number">2</span> &amp;&amp; !cut[i] ) ans++; <span class="comment">//边数符合、不是割点，它一定是棵树！ </span></span><br><span class="line">	<span class="built_in">printf</span>( <span class="string">"%d\n"</span>, ans );</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i ) <span class="keyword">if</span> ( m - s[i] == n - <span class="number">2</span> &amp;&amp; !cut[i] ) <span class="built_in">printf</span>( <span class="string">"%d "</span>, i );</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「2018-12-02模拟赛」T2-种树-解题报告/" data-id="cjr8gbuxg0004c0ens5lvnvia" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/割点/">割点</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-「2018-12-02模拟赛」T3-约束排列-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「2018-12-02模拟赛」T3-约束排列-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:17:50.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「2018-12-02模拟赛」T3-约束排列-解题报告/">「2018-12-02模拟赛」T3 约束排列 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="3-约束排列-place-pas-cpp-in-out"><a href="#3-约束排列-place-pas-cpp-in-out" class="headerlink" title="3.约束排列(place.pas/cpp/in/out)"></a>3.约束排列(place.pas/cpp/in/out)</h1><h2 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h2><p>给出 n 个互不相同的小写字母，表示出现的字符类型，以及 k 个约束关系：  …..，表示 ai 必须出现在 bi 前面(ai,bi 不会超出所给字符类型的范围，且<br>ai!=bi)。<br>请按照字典序输出所有满足约束条件的序列。<br>如:<br>n=3，字符类型为：x y z<br>k=1，约束条件为：x z，表示 x 必须出现在 z 的前面。<br>所有满足约束条件的排列有：<br>xyz<br>xzy<br>yxz</p>
<h2 id="输入："><a href="#输入：" class="headerlink" title="输入："></a>输入：</h2><p>第 1 行，2 个整数 n 和 k。<br>第 2 行，n 个空格隔开的字符。<br>接下来 k 行，每行二个字符 ai 和 bi（表示约束关系），数据保证不会出现矛盾的关系。</p>
<h2 id="输出："><a href="#输出：" class="headerlink" title="输出："></a>输出：</h2><p>若干行，每行 n 个字符（字符之间没有空格），表示排列的结果。</p>
<h2 id="样例输入："><a href="#样例输入：" class="headerlink" title="样例输入："></a>样例输入：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3 1</span><br><span class="line">x y z</span><br><span class="line">x z</span><br></pre></td></tr></table></figure>
<h2 id="样例输出："><a href="#样例输出：" class="headerlink" title="样例输出："></a>样例输出：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xyz</span><br><span class="line">xzy</span><br><span class="line">yxz</span><br></pre></td></tr></table></figure>
<h2 id="数据范围："><a href="#数据范围：" class="headerlink" title="数据范围："></a>数据范围：</h2><p>对于 100%的数据：1&lt;n&lt;9，1≤k≤8。</p>
<hr>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>数据真的小，直接全排列，枚举即可。</p>
<p>对于检查是否满足K个约束，直接枚举，对于每个约束，如果先出现”应该先出现的”那就满足要求，如果先出现“应该后出现的”，那就不满足，标记之后再退出。</p>
<p>满足所有约束的就输出。</p>
<p>next_permutation( a + 1, a + n + 1 )：转为下一个全排列，没有了就返回0</p>
<p>（真搞不懂这种题目为嘛放T3？？？逗我么？？估计普及-。。。）</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, K;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">20</span>], b[<span class="number">20</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">Get</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> ans; <span class="keyword">while</span>( ( ans = getchar() ) &lt; <span class="string">'a'</span> || ans &gt; <span class="string">'z'</span> );</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	freopen( <span class="string">"place.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span> );</span><br><span class="line">	freopen( <span class="string">"place.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span> );</span><br><span class="line">	<span class="built_in">scanf</span>( <span class="string">"%d%d"</span>, &amp;N, &amp;K );</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i ) s[i] = Get();</span><br><span class="line">	<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; ++i ) a[i] = Get(), b[i] = Get();</span><br><span class="line">	sort( s + <span class="number">1</span>, s + N + <span class="number">1</span> ); s[N + <span class="number">1</span>] = <span class="string">'\0'</span>;</span><br><span class="line">	<span class="keyword">do</span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">bool</span> <span class="title">flg</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">		<span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; ++i )</span><br><span class="line">			<span class="keyword">for</span> ( <span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; ++j )&#123;</span><br><span class="line">				<span class="keyword">if</span> ( s[j] == a[i] ) <span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">if</span> ( s[j] == b[i] )&#123; flg = <span class="number">0</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line">			&#125;</span><br><span class="line">		<span class="keyword">if</span> ( flg ) <span class="built_in">printf</span>( <span class="string">"%s\n"</span>, s + <span class="number">1</span> );</span><br><span class="line">	&#125;<span class="keyword">while</span>( next_permutation( s + <span class="number">1</span>, s + N + <span class="number">1</span> ) );</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「2018-12-02模拟赛」T3-约束排列-解题报告/" data-id="cjr8gbuxh0005c0ennkvq6z1i" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/暴力/">暴力</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-「Vijos-1283」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔杖" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「Vijos-1283」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔杖/" class="article-date">
  <time datetime="2019-01-23T00:17:41.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「Vijos-1283」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔杖/">「Vijos 1283」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔杖</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「Vijos-1283」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔杖/" data-id="cjr8gbuy7000sc0encxrcr1n8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「Vijos-1284」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法阵" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「Vijos-1284」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法阵/" class="article-date">
  <time datetime="2019-01-23T00:17:30.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「Vijos-1284」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法阵/">「Vijos 1284」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法阵</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「Vijos-1284」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法阵/" data-id="cjr8gbuy8000tc0enkjfwci4c" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「Vijos-1285」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法药水" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「Vijos-1285」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法药水/" class="article-date">
  <time datetime="2019-01-23T00:17:21.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「Vijos-1285」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法药水/">「Vijos 1285」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法药水</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「Vijos-1285」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法药水/" data-id="cjr8gbuy9000uc0en5ypk27l1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「Vijos-1282」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法照片" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「Vijos-1282」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法照片/" class="article-date">
  <time datetime="2019-01-23T00:17:13.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「Vijos-1282」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法照片/">「Vijos 1282」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法照片</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「Vijos-1282」「OIBH杯NOIP2006第二次模拟赛」佳佳的魔法照片/" data-id="cjr8gbuy6000rc0enfva7kyz2" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「CodeForces-546B」Soldier-and-Badges-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「CodeForces-546B」Soldier-and-Badges-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:16:59.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「CodeForces-546B」Soldier-and-Badges-解题报告/">「CodeForces 546B」Soldier and Badges 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「CodeForces-546B」Soldier-and-Badges-解题报告/" data-id="cjr8gbuy0000jc0en4yjx8rxz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「USACO-1-3」-Name-That-Number-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「USACO-1-3」-Name-That-Number-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:16:47.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「USACO-1-3」-Name-That-Number-解题报告/">「USACO 1.3」 Name That Number 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「USACO-1-3」-Name-That-Number-解题报告/" data-id="cjr8gbuy3000nc0en7w7s1eap" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-「BZOJ1722」「Usaco2006-Mar」Milk-Team-Select产奶比赛-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「BZOJ1722」「Usaco2006-Mar」Milk-Team-Select产奶比赛-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:16:38.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「BZOJ1722」「Usaco2006-Mar」Milk-Team-Select产奶比赛-解题报告/">「BZOJ1722」「Usaco2006 Mar」Milk Team Select产奶比赛 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Milk-Team-Select-产奶比赛"><a href="#Milk-Team-Select-产奶比赛" class="headerlink" title="Milk Team Select 产奶比赛"></a><a href="https://www.lydsy.com/JudgeOnline/problem.php?id=1722" target="_blank" rel="noopener">Milk Team Select 产奶比赛</a></h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Farmer John’s N ($1 \le N \le 500$) cows are trying to select the milking team for the world-famous Multistate Milking Match-up (MMM) competition. As you probably know, any team that produces at least X ($1 \le X \le 1,000,000$) gallons of milk is a winner. Each cow has the potential of contributing between $-10,000$ and $10,000$ gallons of milk. (Sadly, some cows have a tendency to knock over jugs containing milk produced by other cows.) The MMM prides itself on promoting family values. FJ’s cows have no doubt that they can produce X gallons of milk and win the contest, but to support the contest’s spirit, they want to send a team with as many parent-child relationships as possible (while still producing at least X gallons of milk). Not surprisingly, all the cows on FJ’s farm are female. Given the family tree of FJ’s cows and the amount of milk that each would contribute, compute the maximum number of parent-child relationships that can exist in a winning team. Note that a set of cows with a grandmother-mother-daughter combination has two parent-child relationships (grandmother-mother, mother-daughter).</p>
<p>约翰的N($1 \le N \le 500$)头奶牛打算组队去参加一个世界级的产奶比赛(Multistate Milking Match-up，缩写为MMM)．她们很清楚其他队的实力，也就是说，她们派出的队只要能产出至少X($1 \le X \le 1000000$)加仑牛奶，就能赢得这场比赛．    每头牛都能为集体贡献一定量的牛奶，数值在$-10000$到$10000$之间（有些奶牛总是想弄翻装着其他奶牛产的奶的瓶子）．</p>
<p>MMM的举办目的之一，是通过竞赛中的合作来增进家庭成员之间的默契．奶牛们认为她们总是能赢得这场比赛，但为了表示对比赛精神的支持，她们希望在选出的队伍里能有尽可能多的牛来自同一个家庭，也就是说，有尽可能多对的牛有直系血缘关系（当然，这支队伍必须能产出至少X加仑牛奶）．当然了，所有的奶牛都是女性，所以队伍里所有直系血亲都是母女关系．    约翰熟知所有奶牛之间的血缘关系．现在他想知道，如果在保证一支队伍能赢得比赛的情况下，队伍中最多能存在多少对血缘关系．注意，如果一支队伍由某头奶牛和她的母亲、她的外祖母组成，那这支队伍里一共有2对血缘关系（这头奶牛外祖母与她的母亲，以及她与她的母亲）．</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>Line 1: Two space-separated integers, N and X.</p>
<p>Lines 2..N+1: Line i+1 contains two space-separated integers describing cow i. The first integer is the number of gallons of milk cow i would contribute. The second integer (range 1..N) is the index of the cow’s mother. If the cow’s mother is unknown, the second number is 0. The family information has no cycles: no cow is her own mother, grandmother, etc.</p>
<p>第1行：两个用空格隔开的整数N和X.</p>
<p>第2到N+1行：每行包括两个用空格隔开的整数，第一个数为一只奶牛能贡献出的牛奶的加仑数，第二个数表示她的母亲的编号．如果她的母亲不在整个牛群里，那第二个数为0．并且，血缘信息不会出现循环，也就是说一头奶牛不会是自己的母亲或祖母，或者更高代的祖先．</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>Line 1: The maximum number of parent-child relationships possible on a winning team. Print -1 if no team can win.</p>
<p>输出在一个能获胜的队伍中，最多可能存在的有血缘关系的牛的对数．如果任何一支队伍都不可能获胜，输出-1.</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">8</span></span><br><span class="line"><span class="number">-1</span> <span class="number">0</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="number">5</span> <span class="number">1</span></span><br><span class="line"><span class="number">-3</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>第一个数字代表这头奶的产量,第二个数字代表其父亲点是哪一个.</p>
<p>INPUT DETAILS: There are 5 cows. Cow 1 can produce -1 gallons and has two daughters, cow 2 and 3, who can produce 3 and 5 gallons, respectively. Cow 3 has a daughter (cow 4) who can produce -3 gallons. Then there’s cow 5, who can produce 2 gallons.</p>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>
<h2 id="HINT"><a href="#HINT" class="headerlink" title="HINT"></a>HINT</h2><p>约翰一共有5头奶牛．第1头奶牛能提供-1加仑的牛奶，且她是第2、第3头奶牛的母亲．第2、第3头奶牛的产奶量务别为3加仑和5加仑．第4头奶牛是第3头奶牛的女儿，她能提供-3加仑牛奶．还有与其他牛都没有关系的第5头奶牛，她的产奶量是2加仑．<br>最好的一支队伍包括第1，2，3，5头奶牛．她们一共能产出$-1+3+5+2=9 \ge 8$加仑牛奶，并且这支队伍里有2对牛有血缘关系（1-2和1-3）．如果只选第2，3，5头奶牛，虽然总产奶量会更高（10加仑），但这支队伍里包含的血缘关系的对数比上一种组合少（队伍里没有血缘关系对）．</p>
<h2 id="Source"><a href="#Source" class="headerlink" title="Source"></a>Source</h2><p><a href="http://www.lydsy.com/JudgeOnline/problemset.php?search=Gold" target="_blank" rel="noopener">Gold</a></p>
<hr>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p><strong>很明显</strong>,这是一道动态规划题（看着很像背包嘛）那我们要用什么作为下标呢？</p>
<ol>
<li>以牛奶量：牛奶量的数据范围较大，最多只能开一维数组(除非你开滚动数组)。总体来说较难考虑。</li>
<li>以关系数：关系数最多只有 N - 1 对，可以给每头牛开一个 MAXN 的数组，看起来更行得通。。。</li>
</ol>
<p>还有，因为要考虑关系数的转换问题，所以还有开一维[0/1]表示这头牛取不取。</p>
<p>我们发现，这些关系是无环的，或者说这是一个森林(本来我想用拓扑排序，后来还是放弃了。。。)，所以可以再建立一头“牛祖先”，连接原来所有祖先，构成一棵树(即无母亲的节点都认0为母亲)。</p>
<p>对于样例，可以构成如图的一棵树：</p>
<p><img src="https://images2018.cnblogs.com/blog/1431616/201808/1431616-20180821115813792-530126048.jpg" alt="img"></p>
<p>整理一下，刚才讲到建立一个 $int f[MAXN][MAXN][2];$ 的数组，$f[i][j][op]$表示以第 i 个节点为根的树 共有 j 对关系，op = 1 时表示取这个节点，op = 0 时表示不取。</p>
<p>可以把 关系数 作为背包容量，牛奶量 作为 价值</p>
<p>用分组背包的方法来考虑。</p>
<p>具体的部分自己慢慢理解吧。</p>
<p>上代码——</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 505</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, X, ans;</span><br><span class="line"><span class="keyword">int</span> c[MAXN], t;</span><br><span class="line"><span class="keyword">int</span> head[MAXN], to[MAXN &lt;&lt; <span class="number">1</span>], nxt[MAXN &lt;&lt; <span class="number">1</span>], tot(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">int</span> f[MAXN][MAXN][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Add</span><span class="params">( <span class="keyword">int</span> x, <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line">    to[++tot] = y; nxt[tot] = head[x]; head[x] = tot; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">( <span class="keyword">int</span> x, <span class="keyword">int</span> fa )</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++ ) f[x][i][<span class="number">0</span>] = f[x][i][<span class="number">1</span>] = -INF;<span class="comment">//初始值均为负无穷</span></span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i = head[x]; i; i = nxt[i] )&#123;</span><br><span class="line">        <span class="keyword">if</span> ( to[i] == fa ) <span class="keyword">continue</span>;</span><br><span class="line">        DFS( to[i], x );<span class="comment">//先完成子节点</span></span><br><span class="line">        <span class="keyword">for</span> ( <span class="keyword">int</span> j = N; j &gt;= <span class="number">0</span>; --j )&#123;<span class="comment">//分配的关系数</span></span><br><span class="line">            <span class="keyword">for</span> ( <span class="keyword">int</span> k = <span class="number">0</span>; k &lt;= j; ++k )&#123;<span class="comment">//背包——</span></span><br><span class="line">                f[x][j][<span class="number">1</span>] = max( f[x][j][<span class="number">1</span>], f[x][j - k][<span class="number">1</span>] + max( k == <span class="number">0</span> ? -INF : f[to[i]][k - <span class="number">1</span>][<span class="number">1</span>], f[to[i]][k][<span class="number">0</span>] ) );</span><br><span class="line">                f[x][j][<span class="number">0</span>] = max( f[x][j][<span class="number">0</span>], f[x][j - k][<span class="number">0</span>] + max( f[to[i]][k][<span class="number">1</span>], f[to[i]][k][<span class="number">0</span>] ) );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N; ++i ) f[x][i][<span class="number">1</span>] += c[x];<span class="comment">//若取这个节点，加上这个点的价值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>( <span class="string">"%d%d"</span>, &amp;N, &amp;X );</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i )&#123;</span><br><span class="line">        <span class="built_in">scanf</span>( <span class="string">"%d%d"</span>, &amp;c[i], &amp;t );</span><br><span class="line">        Add( i, t ); Add( t, i );<span class="comment">//链式前向星存边</span></span><br><span class="line">    &#125;</span><br><span class="line">    DFS( <span class="number">0</span>, <span class="number">-1</span> );</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(N)</span></span>;</span><br><span class="line">    <span class="keyword">while</span>( ans &gt;= <span class="number">0</span> )&#123;</span><br><span class="line">        <span class="keyword">if</span> ( f[<span class="number">0</span>][ans][<span class="number">0</span>] &gt;= X ) <span class="keyword">break</span>;</span><br><span class="line">        ans--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>( <span class="string">"%d\n"</span>, ans );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「BZOJ1722」「Usaco2006-Mar」Milk-Team-Select产奶比赛-解题报告/" data-id="cjr8gbuxl0009c0enimlboz2u" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/背包DP/">背包DP</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-「BZOJ1385」「Baltic2000」Division-expression-解题报告" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/23/「BZOJ1385」「Baltic2000」Division-expression-解题报告/" class="article-date">
  <time datetime="2019-01-23T00:16:29.000Z" itemprop="datePublished">2019-01-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/23/「BZOJ1385」「Baltic2000」Division-expression-解题报告/">「BZOJ1385」「Baltic2000」Division expression 解题报告</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Division-expression"><a href="#Division-expression" class="headerlink" title="Division expression"></a><a href="https://www.lydsy.com/JudgeOnline/problem.php?id=1385" target="_blank" rel="noopener">Division expression</a></h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>除法表达式有如下的形式: $X_1/X_2/X_3…/X_k$ 其中Xi是正整数且$X_i \le 1000000000(1 \le i \le k,K \le 10000)$ 除法表达式应当按照从左到右的顺序求，例如表达式1/2/1/2的值为1/4.但可以在表达式中加入括号来改变计算顺序，例如(1/2)/(1/2)的值为1.现给出一个除法表达式E，求是告诉是否可以通过增加括号来使其为E’,E’为整数。</p>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><p>先给出一个数字D，代表有D组数据. 每组数据先给出一个数字N，代表这组数据将有N个数。 接下来有N个数</p>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><p>如果能使得表达式的值为一个整数，则输出YES.否则为NO</p>
<h2 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input"></a>Sample Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h2 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><p>观察这个式子$E =  X_1 / X_2 / X_3 …. / X_n$</p>
<p>我们设$E’ = X_{a1} * X_{a2}…./ X_{b1}  / X_{b2}….$</p>
<p>即把加括号后的式子改成分数线的形式，有一些元素属于分子，其他的元素属于分母。</p>
<p>我们发现：</p>
<ul>
<li>$X_1$ 不得不在分子 没有为什么 就是不可以</li>
<li>$X_2$ 不得不在分母 因为你想让它去分母它也不可能到分母</li>
<li>$X_3  to   X_n$ 可在分子也可在分母 总是有办法的QAQ</li>
</ul>
<p>如果叫你把$X_3  to  X_n$分一部分在分子，其他的在分母，你会怎么做？？ 当然是把全部元素放在分子呗。。。</p>
<p>因此最优的 $E’ = X_1 <em> X_3 </em> X_4….* X_n / X_2$</p>
<p>如果真的乘起来的话肯定会溢出，所以当然要用GCD。</p>
<p>清爽的30行代码$(～￣▽￣)～ $</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 10005</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="keyword">int</span> n, t, s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">( <span class="keyword">int</span> x, <span class="keyword">int</span> y )</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x % y == <span class="number">0</span> ? y : gcd( y, x % y );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>( <span class="string">"%d"</span>, &amp;T );</span><br><span class="line">    <span class="keyword">while</span>( T-- )&#123;</span><br><span class="line">        <span class="built_in">scanf</span>( <span class="string">"%d"</span>, &amp;n );</span><br><span class="line">        <span class="built_in">scanf</span>( <span class="string">"%d"</span>, &amp;t );</span><br><span class="line">        <span class="keyword">if</span> ( n == <span class="number">1</span> )&#123;<span class="comment">//注意特判</span></span><br><span class="line">            <span class="built_in">printf</span>( <span class="string">"YES\n"</span> ); <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">scanf</span>( <span class="string">"%d"</span>, &amp;s );</span><br><span class="line">        s /= gcd( s, t );</span><br><span class="line">        <span class="keyword">for</span> ( <span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= n; ++i )&#123;</span><br><span class="line">            <span class="built_in">scanf</span>( <span class="string">"%d"</span>, &amp;t );</span><br><span class="line">            s /= gcd( s, t );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ( s == <span class="number">1</span> ) <span class="built_in">printf</span>( <span class="string">"YES\n"</span> );</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>( <span class="string">"NO\n"</span> );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://louhc.github.io/2019/01/23/「BZOJ1385」「Baltic2000」Division-expression-解题报告/" data-id="cjr8gbuxk0008c0ent4cnb606" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/水题/">水题</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/NOIP/">NOIP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/STL/">STL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/二分答案/">二分答案</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/割点/">割点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索/">搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/暴力/">暴力</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/最短路/">最短路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/欧拉回路/">欧拉回路</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/水题/">水题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线性DP/">线性DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/背包DP/">背包DP</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/NOIP/" style="font-size: 10px;">NOIP</a> <a href="/tags/STL/" style="font-size: 10px;">STL</a> <a href="/tags/二分答案/" style="font-size: 10px;">二分答案</a> <a href="/tags/割点/" style="font-size: 10px;">割点</a> <a href="/tags/搜索/" style="font-size: 20px;">搜索</a> <a href="/tags/暴力/" style="font-size: 10px;">暴力</a> <a href="/tags/最短路/" style="font-size: 10px;">最短路</a> <a href="/tags/欧拉回路/" style="font-size: 10px;">欧拉回路</a> <a href="/tags/水题/" style="font-size: 10px;">水题</a> <a href="/tags/线性DP/" style="font-size: 10px;">线性DP</a> <a href="/tags/背包DP/" style="font-size: 20px;">背包DP</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/23/「2015南阳CCPC-D」金砖-解题报告/">「2015南阳CCPC D」金砖 解题报告</a>
          </li>
        
          <li>
            <a href="/2019/01/23/「洛谷P1233」木棍加工-解题报告/">「洛谷P1233」木棍加工 解题报告</a>
          </li>
        
          <li>
            <a href="/2019/01/23/解题报告/">解题报告</a>
          </li>
        
          <li>
            <a href="/2019/01/23/「洛谷P1080」「NOIP2012提高组」国王游戏-解题报告/">「洛谷P1080」「NOIP2012提高组」国王游戏 解题报告</a>
          </li>
        
          <li>
            <a href="/2019/01/23/NOIP-2018-普及组-解题报告/">NOIP 2018 普及组 解题报告</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 louhc<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<!--<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>